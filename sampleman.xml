<?xml version="1.0" encoding="UTF-8"?>
<project name="sampleman">

    <target name="-copy.dist.samples">

        <antcall target="-create.workspace">
            <param name="workspace.name" value="sample"/>
        </antcall>

        <antcall target="-create.workspace">
            <param name="workspace.name" value="forums"/>
        </antcall>

        <antcall target="-create.workspace">
            <param name="workspace.name" value="magazines"/>
        </antcall>

        <antcall target="-create.workspace">
            <param name="workspace.name" value="singletons"/>
        </antcall>

        <antcall target="-copy.samples"/>

        <antcall target="-copy.forums"/>

        <antcall target="-copy.magazines"/>

        <antcall target="-copy.singletones"/>

    </target>

    <target name="-copy.samples">

        <antcall target="-copy.simpler">
            <param name="from.workspace" value="sample"/>
            <param name="sample.name" value="3DNews.xml"/>
            <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.simpler">
            <param name="from.workspace" value="sample"/>
            <param name="sample.name" value="habr.xml"/>
            <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.simpler">
            <param name="from.workspace" value="sample"/>
            <param name="sample.name" value="bash.xml"/>
            <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.simpler">
            <param name="from.workspace" value="sample"/>
            <param name="sample.name" value="ixbtarticles.xml"/>
            <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.simpler">
            <param name="from.workspace" value="sample"/>
            <param name="sample.name" value="ixbtnews.xml"/>
            <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="inopressa"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="inosmi"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="ithappens"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="membrana"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="popmech"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <antcall target="-copy.sample">
                <param name="from.workspace" value="sample"/>
                <param name="sample.name" value="zadolbali"/>
                <param name="to.workspace" value="sample"/>
        </antcall>

        <!--
            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="3DNewsEditorial"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="anekdot-ru"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>
        -->

        <!--
            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="bash"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="bbc"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="computerra"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="digitlife"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="contr-tv"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="ebook"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="exler"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="habr"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="itogi"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="ixbtarticles"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="ixbtnews"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="korrespondent"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="kp"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="lebedev"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="lg"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="ng"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="nkj"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="nzg"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="og"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="rbc"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="tupichok"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="zavtra"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="zn"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>

            <antcall target="-copy.sample">
                    <param name="from.workspace" value="sample"/>
                    <param name="sample.name" value="exler"/>
                    <param name="to.workspace" value="sample"/>
            </antcall>
        -->
    </target>

    <target name="-copy.forums">

        <antcall target="-copy.sample">
            <param name="from.workspace" value="forums"/>
            <param name="sample.name" value="ebook"/>
            <param name="to.workspace" value="forums"/>
        </antcall>

        <antcall target="-copy.sample">
            <param name="from.workspace" value="forums"/>
            <param name="sample.name" value="ixbtforum"/>
            <param name="to.workspace" value="forums"/>
        </antcall>

	</target>

    <target name="-copy.magazines">

        <antcall target="-copy.sample">
            <param name="from.workspace" value="magazines"/>
            <param name="sample.name" value="popmech"/>
            <param name="to.workspace" value="magazines"/>
        </antcall>

        <antcall target="-copy.sample">
            <param name="from.workspace" value="magazines"/>
            <param name="sample.name" value="vs"/>
            <param name="to.workspace" value="magazines"/>
        </antcall>

    </target>

    <target name="-copy.singletones">

        <antcall target="-copy.sample">
            <param name="from.workspace" value="singletons"/>
            <param name="sample.name" value="wiki"/>
            <param name="to.workspace" value="singletons"/>
        </antcall>

    </target>

    <target name="-create.workspace">

        <echo message="${workspace.name}"/>

        <!--create directory structure-->
        <mkdir dir="${dir.dist}/workarea/workspaces/${workspace.name}/"/>
        <mkdir dir="${dir.dist}/workarea/workspaces/${workspace.name}/channels/"/>
        <mkdir dir="${dir.dist}/workarea/workspaces/${workspace.name}/modifications/"/>
        <mkdir dir="${dir.dist}/workarea/workspaces/${workspace.name}/cloud/"/>
        <mkdir dir="${dir.dist}/workarea/workspaces/${workspace.name}/locator/"/>

        <echo message="${workspace.name}"/>
        <!-- copy default storage -->
        <copy todir="${dir.dist}/workarea/workspaces/${workspace.name}/locator/common/">
            <fileset dir="${dir.base}/workarea/workspaces/${workspace.name}/locator/common/" includes="**/*.*"/>
        </copy>

    </target>

    <target name="-copy.sample">

        <copy todir="${dir.dist}/workarea/workspaces/${to.workspace}/locator/${sample.name}/">
            <fileset dir="${dir.base}/workarea/workspaces/${from.workspace}/locator/${sample.name}/" includes="**/*.*"/>
        </copy>

    </target>

    <target name="-copy.simpler">

        <copy todir="${dir.dist}/workarea/workspaces/${to.workspace}/locator/">
            <fileset file="${dir.base}/workarea/workspaces/${from.workspace}/locator/${sample.name}/"/>
        </copy>

    </target>

</project>

